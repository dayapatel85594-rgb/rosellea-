import{c as N,r as o,j as e}from"./index-Easth5WQ.js";import{N as j,F as b}from"./Footer-BbzoLKkH.js";function g(){const{user:s,updateProfile:f}=N(),[l,i]=o.useState({firstName:"",lastName:"",phone:"",address:{street:"",city:"",state:"",zipCode:""}}),[x,u]=o.useState(!1),[n,m]=o.useState("");o.useEffect(()=>{var r,a,c,d;s&&i({firstName:s.firstName||"",lastName:s.lastName||"",phone:s.phone||"",address:{street:((r=s.address)==null?void 0:r.street)||"",city:((a=s.address)==null?void 0:a.city)||"",state:((c=s.address)==null?void 0:c.state)||"",zipCode:((d=s.address)==null?void 0:d.zipCode)||""}})},[s]);const t=r=>{const{name:a,value:c}=r.target;if(a.startsWith("address.")){const d=a.split(".")[1];i(h=>({...h,address:{...h.address,[d]:c}}))}else i(d=>({...d,[a]:c}))},p=async r=>{r.preventDefault(),u(!0);const a=await f(l);a.success?m("Profile updated successfully!"):m(a.error||"Failed to update profile"),u(!1),setTimeout(()=>m(""),3e3)};return e.jsxs(e.Fragment,{children:[e.jsx(j,{}),e.jsx("div",{className:"container",style:{paddingTop:"120px",paddingBottom:"80px"},children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8",children:e.jsx("div",{className:"card",style:{borderRadius:"20px",border:"none",boxShadow:"0 16px 48px rgba(212, 175, 55, 0.25)"},children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h2",{className:"text-center mb-4",style:{color:"#2C1810",fontFamily:"Playfair Display, serif"},children:"My Profile"}),n&&e.jsx("div",{className:`alert ${n.includes("success")?"alert-success":"alert-danger"}`,children:n}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"First Name"}),e.jsx("input",{type:"text",className:"form-control",name:"firstName",value:l.firstName,onChange:t,required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Last Name"}),e.jsx("input",{type:"text",className:"form-control",name:"lastName",value:l.lastName,onChange:t,required:!0})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Email"}),e.jsx("input",{type:"email",className:"form-control",value:(s==null?void 0:s.email)||"",disabled:!0,style:{backgroundColor:"#f8f9fa"}})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Phone"}),e.jsx("input",{type:"tel",className:"form-control",name:"phone",value:l.phone,onChange:t})]}),e.jsx("h5",{className:"mb-3",style:{color:"#2C1810"},children:"Address"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Street Address"}),e.jsx("input",{type:"text",className:"form-control",name:"address.street",value:l.address.street,onChange:t})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"City"}),e.jsx("input",{type:"text",className:"form-control",name:"address.city",value:l.address.city,onChange:t})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"State"}),e.jsx("input",{type:"text",className:"form-control",name:"address.state",value:l.address.state,onChange:t})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"ZIP Code"}),e.jsx("input",{type:"text",className:"form-control",name:"address.zipCode",value:l.address.zipCode,onChange:t})]})]}),e.jsx("button",{type:"submit",className:"btn btn-luxury w-100",disabled:x,children:x?"Updating...":"Update Profile"})]})]})})})})}),e.jsx(b,{})]})}export{g as default};
