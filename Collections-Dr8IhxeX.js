import{u as k,f as R,r as c,j as e}from"./index-Easth5WQ.js";import{N as F,F as A}from"./Footer-BbzoLKkH.js";import{P as B,a as D,S as E}from"./ScrollToTop-CItuEtXa.js";import{u as T}from"./useProductData-XQbwnYis.js";import{A as L}from"./aos-M1cqTs4Y.js";function z(){const{t}=k(),[f,x]=R(),r=f.get("category")||"all",{products:n,loading:N,error:p}=T(),[h,u]=c.useState(null),[d,g]=c.useState(r),[j,y]=c.useState("newest"),[l,m]=c.useState({min:"",max:""});c.useEffect(()=>{window.scrollTo(0,0),L.init({duration:1e3,easing:"ease-out-cubic",once:!0,offset:100})},[]),c.useEffect(()=>{g(r)},[r]);const v=[{id:"all",name:t("collections.all","All Collections"),count:n.length},{id:"dresses",name:t("collections.dresses","Dresses"),count:n.filter(s=>s.category==="dresses").length},{id:"tops",name:t("collections.tops","Tops"),count:n.filter(s=>s.category==="tops").length},{id:"pants",name:t("collections.pants","Bottoms"),count:n.filter(s=>s.category==="pants").length}],b=s=>{g(s),x(s==="all"?{}:{category:s})},w=s=>{switch(j){case"price-low":return[...s].sort((a,o)=>a.price-o.price);case"price-high":return[...s].sort((a,o)=>o.price-a.price);case"name":return[...s].sort((a,o)=>a.title.localeCompare(o.title));case"newest":default:return[...s].sort((a,o)=>new Date(o.createdAt)-new Date(a.createdAt))}},P=s=>!l.min&&!l.max?s:s.filter(a=>{const o=a.price,C=l.min?parseFloat(l.min):0,S=l.max?parseFloat(l.max):1/0;return o>=C&&o<=S});let i=d==="all"?n:n.filter(s=>s.category===d);return i=P(i),i=w(i),e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx("section",{className:"collections-hero py-5",style:{background:"linear-gradient(135deg, rgba(245, 240, 235, 0.9) 0%, rgba(232, 180, 184, 0.8) 100%)",marginTop:"0"},children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"text-center","data-aos":"fade-up",children:[e.jsx("h1",{className:"display-3 mb-4",style:{fontFamily:"Playfair Display, serif",fontWeight:"700"},children:t("collections.title","Our Collections")}),e.jsx("p",{className:"lead mb-0",children:t("collections.subtitle","Discover timeless pieces crafted with passion and attention to detail")})]})})}),e.jsx("section",{className:"py-5",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4",children:[e.jsx("div",{className:"category-filters d-flex flex-wrap gap-2","data-aos":"fade-up",children:v.map(s=>e.jsxs("button",{onClick:()=>b(s.id),className:`btn ${d===s.id?"btn-luxury":"btn-outline-luxury"} px-3 py-2`,style:{borderRadius:"25px",fontWeight:"500",fontSize:"0.9rem",transition:"all 0.3s ease"},children:[s.name," (",s.count,")"]},s.id))}),e.jsx("div",{className:"d-flex gap-3 align-items-center","data-aos":"fade-up","data-aos-delay":"100",children:e.jsxs("select",{className:"form-select",value:j,onChange:s=>y(s.target.value),style:{width:"auto",minWidth:"150px"},children:[e.jsx("option",{value:"newest",children:t("collections.sort.newest","Newest")}),e.jsx("option",{value:"price-low",children:t("collections.sort.priceLow","Price: Low to High")}),e.jsx("option",{value:"price-high",children:t("collections.sort.priceHigh","Price: High to Low")}),e.jsx("option",{value:"name",children:t("collections.sort.name","Name A-Z")})]})})]}),e.jsxs("div",{className:"price-filter d-flex gap-2 align-items-center mb-4","data-aos":"fade-up","data-aos-delay":"200",children:[e.jsxs("span",{className:"text-muted",children:[t("collections.priceRange","Price Range"),":"]}),e.jsx("input",{type:"number",className:"form-control",placeholder:t("collections.minPrice","Min"),value:l.min,onChange:s=>m({...l,min:s.target.value}),style:{width:"100px"}}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",className:"form-control",placeholder:t("collections.maxPrice","Max"),value:l.max,onChange:s=>m({...l,max:s.target.value}),style:{width:"100px"}}),e.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>m({min:"",max:""}),children:t("collections.clear","Clear")})]})]})}),p&&e.jsxs("div",{className:"alert alert-danger text-center",children:[e.jsx("h4",{children:t("collections.error.title","Error Loading Products")}),e.jsx("p",{children:p})]}),N?e.jsx("div",{className:"row g-4",children:[...Array(12)].map((s,a)=>e.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6",children:e.jsxs("div",{className:"product-card",children:[e.jsx("div",{className:"loading-skeleton",style:{height:"320px",borderRadius:"20px 20px 0 0"}}),e.jsxs("div",{className:"product-details",children:[e.jsx("div",{className:"loading-skeleton",style:{height:"24px",marginBottom:"12px",borderRadius:"4px"}}),e.jsx("div",{className:"loading-skeleton",style:{height:"16px",marginBottom:"16px",borderRadius:"4px",width:"80%"}}),e.jsx("div",{className:"loading-skeleton",style:{height:"28px",marginBottom:"16px",borderRadius:"4px",width:"60%"}}),e.jsx("div",{className:"loading-skeleton",style:{height:"48px",borderRadius:"12px"}})]})]})},a))}):i.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsxs("p",{className:"text-muted mb-0",children:[t("collections.showing","Showing")," ",i.length," ",t("collections.products","products")]})}),e.jsx("div",{className:"row g-4",children:i.map((s,a)=>e.jsx("div",{className:"col-lg-3 col-md-4 col-sm-6","data-aos":"fade-up","data-aos-delay":a*50,children:e.jsx(B,{product:s,onClick:()=>u(s)})},s._id))})]}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("h3",{className:"mb-3",children:t("collections.noProducts","No Products Found")}),e.jsx("p",{children:t("collections.noProductsDesc","We're adding new pieces to this collection. Check back soon!")})]})]})}),h&&e.jsx(D,{product:h,onClose:()=>u(null)}),e.jsx(A,{}),e.jsx(E,{})]})}export{z as default};
