import{b as N,c as y,j as s,L as x}from"./index-Easth5WQ.js";import{N as h,F as m}from"./Footer-BbzoLKkH.js";function C(){const{items:l,loading:j,updateCartItem:u,removeFromCart:p,getCartTotal:a}=N(),{user:v}=y(),c=async(e,n)=>{n<1||await u(e,n)},b=async e=>{await p(e)};return j?s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsx("div",{className:"container",style:{paddingTop:"120px",minHeight:"60vh"},children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"spinner-border text-primary",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),s.jsx(m,{})]}):s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsxs("div",{className:"container",style:{paddingTop:"120px",paddingBottom:"80px"},children:[s.jsx("h2",{className:"text-center mb-5",style:{color:"#2C1810",fontFamily:"Playfair Display, serif"},children:"Shopping Cart"}),l.length===0?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("h4",{children:"Your cart is empty"}),s.jsx("p",{className:"text-muted",children:"Add some beautiful pieces to your collection"}),s.jsx(x,{to:"/",className:"btn btn-luxury",children:"Continue Shopping"})]}):s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-lg-8",children:l.map(e=>{var n,t,i,d,r,o;return s.jsx("div",{className:"card mb-3",style:{borderRadius:"15px"},children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row align-items-center",children:[s.jsx("div",{className:"col-md-3",children:s.jsx("img",{src:((t=(n=e.product)==null?void 0:n.images)==null?void 0:t[0])||((i=e.product)==null?void 0:i.image),alt:(d=e.product)==null?void 0:d.title,className:"img-fluid rounded",style:{height:"120px",objectFit:"cover"}})}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h5",{children:(r=e.product)==null?void 0:r.title}),s.jsxs("p",{className:"text-muted mb-1",children:[e.size&&`Size: ${e.size}`,e.size&&e.color&&" | ",e.color&&`Color: ${e.color}`]}),s.jsxs("p",{className:"fw-bold",style:{color:"#D4AF37"},children:["$",(o=e.price)==null?void 0:o.toFixed(2)]})]}),s.jsxs("div",{className:"col-md-3",children:[s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>c(e._id,e.quantity-1),children:"-"}),s.jsx("span",{className:"mx-3",children:e.quantity}),s.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>c(e._id,e.quantity+1),children:"+"})]}),s.jsx("button",{className:"btn btn-sm btn-outline-danger w-100",onClick:()=>b(e._id),children:"Remove"})]})]})})},e._id)})}),s.jsx("div",{className:"col-lg-4",children:s.jsx("div",{className:"card",style:{borderRadius:"15px"},children:s.jsxs("div",{className:"card-body",children:[s.jsx("h5",{className:"card-title",children:"Order Summary"}),s.jsx("hr",{}),s.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[s.jsx("span",{children:"Subtotal:"}),s.jsxs("span",{children:["$",a().toFixed(2)]})]}),s.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[s.jsx("span",{children:"Shipping:"}),s.jsx("span",{children:a()>100?"Free":"$15.00"})]}),s.jsxs("div",{className:"d-flex justify-content-between mb-2",children:[s.jsx("span",{children:"Tax:"}),s.jsxs("span",{children:["$",(a()*.08).toFixed(2)]})]}),s.jsx("hr",{}),s.jsxs("div",{className:"d-flex justify-content-between fw-bold",children:[s.jsx("span",{children:"Total:"}),s.jsxs("span",{children:["$",(a()+(a()>100?0:15)+a()*.08).toFixed(2)]})]}),s.jsx(x,{to:"/checkout",className:"btn btn-luxury w-100 mt-3",children:"Proceed to Checkout"})]})})})]})]}),s.jsx(m,{})]})}export{C as default};
