import{r as l,j as e,b,c as y}from"./index-Easth5WQ.js";function j({message:t,type:i="info",isVisible:o,onClose:s}){if(l.useEffect(()=>{if(o){const a=setTimeout(()=>{s()},3e3);return()=>clearTimeout(a)}},[o,s]),!o)return null;const n=()=>{switch(i){case"success":return"#28a745";case"error":return"#dc3545";case"warning":return"#ffc107";default:return"#17a2b8"}};return e.jsx("div",{style:{position:"fixed",top:"100px",right:"20px",background:n(),color:"white",padding:"1rem 1.5rem",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",zIndex:1e4,maxWidth:"300px",animation:"slideIn 0.3s ease-out"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{children:t}),e.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"white",fontSize:"1.2rem",cursor:"pointer",marginLeft:"1rem"},children:"×"})]})})}function v({product:t,onClick:i}){const{addToCart:o}=b(),[s,n]=l.useState({show:!1,message:"",type:"info"}),[a,d]=l.useState(!1);if(!t)return e.jsx("div",{className:"product-card-luxury error-state",children:e.jsx("div",{className:"product-details",children:e.jsx("p",{children:"Product information unavailable"})})});const h=async p=>{if(p.stopPropagation(),!a){d(!0);try{const f=await o(t);f.success?n({show:!0,message:`${t.title||"Item"} added to your collection`,type:"success"}):n({show:!0,message:f.error||"Failed to add item to cart",type:"error"})}catch{n({show:!0,message:"An error occurred while adding to cart",type:"error"})}finally{d(!1)}}},g=()=>{i&&!a&&i()},x=()=>{n({...s,show:!1})},c=t.title||"Untitled Product",m=t.price||0,u=t.image||"/placeholder-image.jpg",r=t.description||"Elegant piece crafted with attention to detail";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"product-card-luxury",onClick:g,children:[e.jsx("img",{src:u,alt:c,className:"product-image",loading:"lazy",onError:p=>{p.target.src="/placeholder-image.jpg"}}),e.jsxs("div",{className:"product-details",children:[e.jsx("h3",{className:"product-title",children:c}),e.jsx("p",{className:"product-description",children:r}),e.jsxs("div",{className:"product-price",children:["$",m.toFixed(2)]}),e.jsx("button",{className:`btn btn-luxury w-100 ${a?"loading":""}`,onClick:h,disabled:a,"aria-label":`Add ${c} to cart`,children:a?"Adding...":"Add to Collection"})]})]}),e.jsx(j,{message:s.message,type:s.type,isVisible:s.show,onClose:x})]})}function C({product:t,onClose:i}){var m,u;const[o,s]=l.useState(""),[n,a]=l.useState(""),[d,h]=l.useState(1),{addToCart:g}=b(),{isAuthenticated:x}=y();if(!t)return null;const c=async()=>{if(!x){alert("Please login to add items to cart");return}(await g(t,d,o,n)).success&&i()};return e.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:i,children:e.jsxs("div",{className:"modal-content",style:{background:"white",borderRadius:"20px",maxWidth:"800px",width:"90%",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:r=>r.stopPropagation(),children:[e.jsx("button",{onClick:i,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",fontSize:"2rem",cursor:"pointer",zIndex:10},children:"×"}),e.jsxs("div",{className:"row g-0",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("img",{src:((m=t.images)==null?void 0:m[0])||t.image,alt:t.title,style:{width:"100%",height:"400px",objectFit:"cover",borderRadius:"20px 0 0 20px"}})}),e.jsxs("div",{className:"col-md-6",style:{padding:"2rem"},children:[e.jsx("h2",{style:{color:"#2C1810",marginBottom:"1rem"},children:t.title}),e.jsx("p",{style:{color:"#4A4A4A",marginBottom:"1.5rem"},children:t.description}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#D4AF37",marginBottom:"1.5rem"},children:["$",(u=t.price)==null?void 0:u.toFixed(2)]}),t.sizes&&t.sizes.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Size:"}),e.jsxs("select",{value:o,onChange:r=>s(r.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid rgba(212, 175, 55, 0.3)",borderRadius:"8px"},children:[e.jsx("option",{value:"",children:"Select Size"}),t.sizes.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),t.colors&&t.colors.length>0&&e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Color:"}),e.jsxs("select",{value:n,onChange:r=>a(r.target.value),style:{width:"100%",padding:"0.5rem",border:"2px solid rgba(212, 175, 55, 0.3)",borderRadius:"8px"},children:[e.jsx("option",{value:"",children:"Select Color"}),t.colors.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{style:{marginBottom:"1.5rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Quantity:"}),e.jsx("input",{type:"number",min:"1",max:t.stock||10,value:d,onChange:r=>h(parseInt(r.target.value)),style:{width:"100px",padding:"0.5rem",border:"2px solid rgba(212, 175, 55, 0.3)",borderRadius:"8px"}})]}),e.jsx("button",{onClick:c,style:{width:"100%",padding:"1rem",background:"linear-gradient(135deg, #D4AF37 0%, #FFD700 50%, #FFA500 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"1.1rem",fontWeight:"600",cursor:"pointer"},children:"Add to Cart"})]})]})]})})}const S=()=>{const[t,i]=l.useState(!1);l.useEffect(()=>{const s=()=>{window.pageYOffset>300?i(!0):i(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?e.jsx("button",{onClick:o,className:"scroll-to-top","aria-label":"Scroll to top",style:{position:"fixed",bottom:"2rem",right:"2rem",width:"50px",height:"50px",background:"linear-gradient(135deg, #E8B4B8 0%, #C8A2C8 100%)",color:"white",border:"none",borderRadius:"50%",fontSize:"1.5rem",fontWeight:"bold",cursor:"pointer",boxShadow:"0 8px 32px rgba(212, 175, 55, 0.15)",transition:"all 0.3s ease",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},children:"↑"}):null};export{v as P,S,C as a};
